<HTML>
<BODY>
<PRE>
<!-- Manpage converted by man2html 3.0.1 -->
     <B>NAME</B>
          stralloc - dynamically allocated strings

     <B>SYNTAX</B>
          <B>#include</B> <B>&lt;stralloc.h&gt;</B>

          int <B>stralloc_ready</B>(&amp;<I>sa</I>,<I>len</I>);
          int <B>stralloc_readyplus</B>(&amp;<I>sa</I>,<I>len</I>);

          int <B>stralloc_copy</B>(&amp;<I>sa</I>,&amp;<I>sa2</I>);
          int <B>stralloc_copys</B>(&amp;<I>sa</I>,<I>buf</I>);
          int <B>stralloc_copyb</B>(&amp;<I>sa</I>,<I>buf</I>,<I>len</I>);

          int <B>stralloc_cat</B>(&amp;<I>sa</I>,&amp;<I>sa2</I>);
          int <B>stralloc_cats</B>(&amp;<I>sa</I>,<I>buf</I>);
          int <B>stralloc_catb</B>(&amp;<I>sa</I>,<I>buf</I>,<I>len</I>);

          int <B>stralloc_append</B>(&amp;<I>sa</I>,<I>buf</I>);
          int <B>stralloc_0</B>(&amp;<I>sa</I>);

          int <B>stralloc_starts</B>(&amp;<I>sa</I>,<I>buf</I>);

          stralloc <I>sa</I> = {0};
          stralloc <I>sa2</I> = {0};
          unsigned int <I>len</I>;
          char *<I>buf</I>;

     <B>DESCRIPTION</B>
          A <B>stralloc</B> variable holds a string in dynamically allocated
          space.  String length is limited only by memory.  String
          contents are unrestricted.

          The <B>stralloc</B> structure has three components:  <I>sa</I><B>.s</B> is a
          pointer to the string, or 0 if it is not allocated; <I>sa</I><B>.len</B>
          is the number of bytes in the string, if it is allocated;
          <I>sa</I><B>.a</B> is the number of bytes allocated for the string, if it
          is allocated.  A <B>stralloc</B> variable should be initialized to
          {0}, meaning unallocated.

          <B>stralloc_ready</B> makes sure that <I>sa</I> has enough space allocated
          for <I>len</I> characters.  It allocates extra space if necessary.

          <B>stralloc_readyplus</B> makes sure that <I>sa</I> has enough space
          allocated for <I>len</I> characters more than its current length.
          If <I>sa</I> is unallocated, <B>stralloc_readyplus</B> is the same as
          <B>stralloc_ready</B>.

          <B>stralloc_copy</B> copies <I>sa2</I> to <I>sa</I>, allocating space if
          necessary.  Here <I>sa2</I> is an allocated <B>stralloc</B> variable.

          <B>stralloc_copys</B> copies a 0-terminated string, <I>buf</I>, to <I>sa</I>,
          without the 0.
          <B>stralloc_copyb</B> copies <I>len</I> characters from <I>buf</I> to <I>sa</I>.

          <B>stralloc_cat</B> appends <I>sa2</I> to <I>sa</I>, allocating space if
          necessary.  If <I>sa</I> is unallocated, <B>stralloc_cat</B> is the same
          as <B>stralloc_copy</B>.

          <B>stralloc_cats</B> and <B>stralloc_catb</B> are analogous to
          <B>stralloc_copys</B> and <B>stralloc_copyb</B>.

          <B>stralloc_append</B> adds a single character, *<I>buf</I>, to <I>sa</I>,
          allocating space if necessary.

          <B>stralloc_0</B> adds a single 0 character to <I>sa</I>.

          <B>stralloc_starts</B> returns 1 if the 0-terminated string <I>buf</I>,
          without the 0, is a prefix of <I>sa</I>.

     <B>ERROR</B> <B>HANDLING</B>
          If a <B>stralloc</B> routine runs out of memory, it leaves <I>sa</I> alone
          and returns 0, setting <B>errno</B> appropriately.  On success it
          returns 1; this guarantees that <I>sa</I> is allocated.

     <B>SEE</B> <B>ALSO</B>
          <B><A HREF="alloc.html">alloc(3)</A></B>, <B><A HREF="error.html">error(3)</A></B>




























</PRE>
<HR>
<ADDRESS>
Man(1) output converted with
<a href="http://www.oac.uci.edu/indiv/ehood/man2html.html">man2html</a>
</ADDRESS>
</BODY>
</HTML>
